<!doctype html>
<html lang="en" ng-app="app">
<head>
	<meta charset="UTF-8">
	<title>Mad Libs</title>
	<link href="style.css" rel="stylesheet">
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.10/angular.min.js" type="text/javascript"></script>
	<script src="script.js" type="text/javascript"></script>
</head>
<body>
	<header>
		Waitstaff Calculator
	</header>
	<div ng-controller="mainCtrl">
		<div class="col-container meal-container">
			<div>
				<div class="header">Enter the Meal Details</div>
				<div class="content-container">
					<form name="inputForm" ng-submit="submit();">
						<div class="cols label">Base Meal Price: $ </div>
						<div class="cols value">
							<input ng-model="mealPrice" name="mealPrice" required ng-pattern="numberMatching">
						</div>
						<div class="cols label">Tax Rate: % </div>
						<div class="cols value">
							<input ng-model="taxRate" name="taxRate" required ng-pattern="numberMatching">
						</div>
						<div class="cols label">Tip Percentage: % </div>
						<div class="cols value">
							<input ng-model="tipPercentage" name="tipPercentage" required ng-pattern="numberMatching">
						</div>

						<div class="buttons-container">
							<button type="submit">Submit</button>
							<input type="button" ng-click="cancel();" value="cancel"></input>
						</div>
						<div class="error-container" ng-show="inputForm.$submitted && (inputForm.mealPrice.$error.pattern || inputForm.taxRate.$error.pattern || inputForm.tipPercentage.$error.pattern)">
							Values are required to be numbers.  
						</div>
					</form>
				</div>
			</div>
		</div>
		<div class="col-container output-container">
			<div>
				<div class="header">Customer Charges</div>
				<div class="content-container">
					<div class="cols label">Subtotal $</div>
					<div class="cols value">{{customerSubtotal | number:2}}</div>
					<div class="cols label">Tip $</div>
					<div class="cols value">{{customerTip | number:2}}</div>
					<hr>
					<div class="cols label">Total $</div>
					<div class="cols value">{{customerSubtotal + customerTip | number:2}}</div>
				</div>
			</div>
			<div>
				<div class="header">My Earnings Info</div>
				<div class="content-container">
					<div class="cols label">Tip Total $</div>
					<div class="cols value">{{tipTotal | number:2}}</div>
					<div class="cols label">Meal Count</div>
					<div class="cols value">{{mealCount}}</div>
					<hr>
					<div class="cols label">Avg. Tip/Meal $</div>
					<div class="cols value">{{(tipTotal/mealCount || 0) | number:2}}</div>
				</div>
			</div>
		</div>
		<div class="reset-container">
			<button ng-click="reset();">Reset</button>
		</div>
	</div>
</body>
</html>